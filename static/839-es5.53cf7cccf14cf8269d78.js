!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}(self.webpackChunkubay=self.webpackChunkubay||[]).push([[839],{3839:function(t,r,o){o.r(r),o.d(r,{RegisterStatusModule:function(){return k}});var i,a=o(8583),u=o(1841),s=o(4207),c=o(7384),l=o(665),p=o(3928),f=o(1558),m=o(3018),g=o(8903),d=o(9304),h=((i=function(){function t(n){e(this,t),this.http=n}return n(t,[{key:"getAccounts",value:function(e,t){return this.http.post(d.H+"account/"+e,t)}}]),t}()).\u0275fac=function(e){return new(e||i)(m.LFG(u.eN))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac}),i),v=[{path:"",component:function(){var t=function(){function t(n,r,o,i){e(this,t),this.fb=n,this.snackBar=r,this.registerService=o,this.router=i,this.disabledConfig=!0,this.newUser={password:"",name:"",surname:"",direction:"",cp:"",city:"",province:"",country:"",email:""}}return n(t,[{key:"ngOnInit",value:function(){this.initFilterForm()}},{key:"initFilterForm",value:function(){this.newUserForm=this.fb.group({name:["",l.kI.required],surname:["",l.kI.required],direction:["",l.kI.required],cp:["",l.kI.required],city:["",l.kI.required],province:["",l.kI.required],country:["",l.kI.required],username:["",l.kI.required],email:["",l.kI.required],password:["",l.kI.minLength(8)],passwordRepeat:["",l.kI.minLength(8)]})}},{key:"registerButton",value:function(){this.newUserForm.valid?this.addNewUser():this.showMsgError()}},{key:"addNewUser",value:function(){var e,t=this;this.getFilterValues(),this.checkIfCorrectData()?this.registerService.getAccounts(null===(e=this.newUserForm.get("username"))||void 0===e?void 0:e.value,this.newUser).subscribe(function(e){console.log(e),t.snackBar.open("Cuenta creada con exito","Ok").afterDismissed().subscribe(function(e){t.goToLogin()})},function(e){return t.snackBar.open(e.error.message,"Ok")}):this.snackBar.open("La contrase\xf1a no es correcta","Ok")}},{key:"checkIfCorrectData",value:function(){var e,t;return(null===(e=this.newUserForm.get("password"))||void 0===e?void 0:e.value)===(null===(t=this.newUserForm.get("passwordRepeat"))||void 0===t?void 0:t.value)}},{key:"getFilterValues",value:function(){var e=this;Object.keys(this.newUser).forEach(function(t){var n,r;e.newUser[t]="email"===t?null===(n=e.newUserForm.get(t))||void 0===n?void 0:n.value.split("@gmail.com"):null===(r=e.newUserForm.get(t))||void 0===r?void 0:r.value}),console.log(this.newUser)}},{key:"showMsgError",value:function(){this.snackBar.open("Los campos no son correctos","Ok")}},{key:"redirectTo",value:function(e,t,n){var r=this;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(function(){return r.router.navigate([e],{queryParams:{password:t,username:n}})})}},{key:"goToLogin",value:function(){this.redirectTo("/login")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(m.Y36(l.qu),m.Y36(g.ux),m.Y36(h),m.Y36(f.F0))},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-register"]],decls:40,vars:1,consts:[[1,"container"],[1,"form"],[3,"formGroup"],["pInputText","","formControlName","name"],["pInputText","","formControlName","surname"],["pInputText","","formControlName","direction"],["pInputText","","formControlName","cp"],["pInputText","","formControlName","city"],["pInputText","","formControlName","province"],["pInputText","","formControlName","country"],["pInputText","","formControlName","username"],["pInputText","","formControlName","email","type","email"],["pInputText","","formControlName","password","type","password"],["pInputText","","formControlName","passwordRepeat","type","password"],["pButton","",3,"click"]],template:function(e,t){1&e&&(m.TgZ(0,"div",0),m.TgZ(1,"h2"),m._uU(2,"Reg\xedstrate"),m.qZA(),m.TgZ(3,"div",1),m.TgZ(4,"form",2),m.TgZ(5,"label"),m._uU(6,"Nombre"),m.qZA(),m._UZ(7,"input",3),m.TgZ(8,"label"),m._uU(9,"Apellidos"),m.qZA(),m._UZ(10,"input",4),m.TgZ(11,"label"),m._uU(12,"Direccion"),m.qZA(),m._UZ(13,"input",5),m.TgZ(14,"label"),m._uU(15,"C\xf3digo Postal"),m.qZA(),m._UZ(16,"input",6),m.TgZ(17,"label"),m._uU(18,"Poblaci\xf3n"),m.qZA(),m._UZ(19,"input",7),m.TgZ(20,"label"),m._uU(21,"Municipio"),m.qZA(),m._UZ(22,"input",8),m.TgZ(23,"label"),m._uU(24,"Pa\xeds"),m.qZA(),m._UZ(25,"input",9),m.TgZ(26,"label"),m._uU(27,"Username"),m.qZA(),m._UZ(28,"input",10),m.TgZ(29,"label"),m._uU(30,"Correo electr\xf3nico"),m.qZA(),m._UZ(31,"input",11),m.TgZ(32,"label"),m._uU(33,"Contrase\xf1a"),m.qZA(),m._UZ(34,"input",12),m.TgZ(35,"label"),m._uU(36,"Repite la contrase\xf1a"),m.qZA(),m._UZ(37,"input",13),m.qZA(),m.qZA(),m.TgZ(38,"button",14),m.NdJ("click",function(){return t.registerButton()}),m._uU(39,"Registrate"),m.qZA(),m.qZA()),2&e&&(m.xp6(4),m.Q6J("formGroup",t.newUserForm))},directives:[l._Y,l.JL,l.sg,l.Fj,p.o,l.JJ,l.u,s.Hq],styles:['@import"https://fonts.googleapis.com/css2?family=Montserrat:wght@300&display=swap";*[_ngcontent-%COMP%]{font-family:"Montserrat",sans-serif}.container[_ngcontent-%COMP%]{padding:5em;text-align:center;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{text-align:left;width:100%;margin-bottom:3em}.container[_ngcontent-%COMP%]   .flex[_ngcontent-%COMP%]{justify-content:center}']}),t}()}],Z=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({imports:[[f.Bz.forChild(v)],f.Bz]}),t}(),k=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({providers:[h],imports:[[a.ez,u.JF,Z,s.hJ,c.FI,p.j,l.UX,l.u5,g.ZX,s.hJ]]}),t}()}}])}();